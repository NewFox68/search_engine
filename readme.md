Итоговый проект SkillBox по программе "Разработчик на C++ с нуля".
«Реализация системы поиска по корпоративному порталу компании
„AйТиБокс“». Это разработка поискового движка для корпоративного портала
компании — аналог поисковой строки Яндекса или Google. Цель проекта - Научить строить
поисковые индексы, работать с конфигурационными файлами и написать
набор тестов для проверки решения. Написать формулу релевантности для выдачи
результатов поиска.

Разработка локального поискового движка по файлам

Описание задачи:
Реализовать собственный поиск, алгоритм и
принципы работы которого при необходимости можно менять и развивать.
Поисковый движок должен представлять из себя консольное приложение
(исполняемый файл, запускаемый на любом сервере или компьютере),
осуществляющее поиск и имеющее возможность настройки через файлы формата
JSON. Применённые в нём решения можно впоследствии встроить в поисковый
движок работающий на веб.
Принципы работы поискового движка должны быть следующими:
1. В конфигурационном файле перед запуском приложения задаются названия
   файлов, по которым движок будет осуществлять поиск.
2. Поисковый движок должен самостоятельно обходить все файлы и
   индексировать их так, чтобы потом по любому поисковому запросу находить наиболее
   релевантные документы.
3. Пользователь задаёт запрос через JSON-файл requests.json. Запрос — это
   набор слов, по которым нужно найти документы.
4. Запрос трансформируется в список слов.
5. В индексе ищутся те документы, на которых встречаются все эти слова.
6. Результаты поиска ранжируются, сортируются и отдаются пользователю,
   максимальное количество возможных документов в ответе задаётся в
   конфигурационном файле.
7. В конце программа формирует файл answers.json, в который записывает
   результаты поиска.
   
   Этап 1. Подготовка
   Цель
   Подготовить необходимое программное обеспечение для программирования
   поискового движка.
   Что нужно сделать:
      Установите на свой компьютер компилятор MinGW и IDE Clion, если их ещё нет.
      В IDE Clion создайте проект search_engine и дополните его библиотекой сериализации JSON.
   
   Этап 2. Разработка класса для взаимодействия с файлами
   JSON в описанном формате
   Цель:
   Добавить в созданный проект search_engine классы ConverterJSON для работы с
   файлами формата JSON.
   Что нужно сделать:
   Напишите класс, который будет работать с данными в формате JSON. Класс должен
   выполнять следующие функции:
   ● считывать конфигурационные данные из JSON,
   ● преобразовывать запросы в формате JSON,
   ● формировать ответы в заданном формате JSON.
   Для этого приложения конфигурационные данные будут храниться в файле с
   названием config.json, пользовательские запросы — в файле requests.json, а ответы —
   в answers.json.
   Все три файла по умолчанию находятся в директории с проектом, поэтому отдельный
   путь для них задавать не нужно. Рассмотрим каждый из них подробнее:
1. Файл конфигурации config.json.
   Без него запуск приложения невозможен. Он содержит название поискового движка,
   его версию, время обновления базы (с какой периодичностью необходимо делать
   переиндексирование базы, заново подгружать файлы и обсчитывать их поисковый
   рейтинг), максимальное количество вариантов в ответе (если не указано, то значение
   выбирается равным пяти).
   Пример описания файла config.json:
   {
   }
   "config": {
   "name": "SkillboxSearchEngine",
   "version": "0.1",
   "max_responses": 5
   },
   "files": [
   "../resources/file001.txt",
   "../resources/file002.txt",
   "../resources/file003.txt",
   "../resources/file004.txt",
   …
   ]
   Подробнее разберём каждое поле файла config.json:
   ● config — общая информация, без которой приложение не запускается. Если это
   поле отсутствует, то при старте программа должна выбросить исключение и
   вывести в текстовую консоль ошибку config file is empty. Если отсутствует сам
   файл config.json, то необходимо выбросить исключение и вывести ошибку config
   file is missing.
   ● name— поле с названием поискового движка. Оно может быть любым: вы
   можете придумать название для поискового движка самостоятельно.
   Информацию из данного поля необходимо отображать при старте приложения
   Starting.
   ● version — поле с номером версии поискового движка. Впоследствии можно
   сделать проверку. Если поле version не совпадает с версией самого
   приложения, то необходимо выдавать ошибку config.json has incorrect file
   version.
   ● max_responses — поле, определяющее максимальное количество ответов на
   один запрос.
   ● files содержит пути к файлам, по которым необходимо осуществлять поиск.
   Внутри списка files лежат пути к файлам.
   ● <путь к файлу>(“../resorces/file001.txt”) — это путь к файлу. Впоследствии по его
   содержимому необходимо совершить поиск. Если по этому пути файл не
   существует, то на экран выводится соответствующая ошибка, но выполнение
   программы не прекращается. При этом каждый документ содержит не более
   1000 слов с максимальной длиной каждого в 100 символов. Слова
   состоят из строчных латинских букв и разделены одним или несколькими
   пробелами.
2. Файл с запросами requests.json.
   Он содержит запросы, которые необходимо обработать поисковому движку.
   Пример описания файла requests.json:
   {
   }
   "requests": [
   "some words..",
   "some words..",
   "some words..",
   "some words..",
   …
   ]
   Разберём каждого поле файла config.json подробнее.
   ● requests состоит из списка запросов, которые необходимо обработать
   поисковым движком. Поле содержит не более 1000 запросов, каждый из
   которых включает от одного до десяти слов.
   ● <содержимое запроса>(“some words”) — поисковый запрос, набор слов,
   разделённых одним или несколькими пробелами. По ним необходимо
   осуществить поиск. Все слова состоят из строчных латинских букв.
3. Файл с ответами на запросы answers.json.
   В него записываются результаты работы поискового движка. Если при старте
   приложения в директории с проектом не существует этого файла, то его необходимо
   создать. Если файл уже существует, то необходимо стереть всё его содержимое.
   Пример описания файла answers.json:
   {
   "answers": {
   "request001": {
   "result": "true",
   "relevance": {
   "docid": 0, “rank” : 0.989,
   "docid": 1, “rank” : 0.897,
   "docid": 2, “rank” : 0.750,
   "docid": 3, “rank” : 0.670,
   "docid": 4, “rank” : 0.561
   }
   },
   "request002": {
   "result": "true",
   "docid": 0, “rank” : 0.769
   },
   "request003": {
   "result": "false"
   }
   }
   }
   Рассмотрим каждого поле файла answers.json:
   ● answers —базовое поле в этом файле, которое содержит ответы на запросы.
   ● request001 … 003 —идентификатор запроса, по которому сформирован ответ.
   Идентификатор запроса формируется автоматически по порядку, в котором
   находятся запросы в поле requests файла requests.json. Например:
   "requests": [
   "some words..", для данной строки id запроса будет равен “request001”
   "some words..", для данной строки id запроса будет равен “request002”
   "some words..", для данной строки id запроса будет равен “request003”
   "some words..", для данной строки id запроса будет равен “request004”
   …
   ]
   ● result – результат поиска запроса. Если он принимает значение true, значит по
   данному запросу найден хотя бы один документ. Если результат имеет значение
   false, значит ни одного документа не найдено. Тогда других полей в ответе на
   этот запрос нет.
   ● relevance включается в файл answers.json, если на этот запрос удалось найти
   более одного документа.
   Далее идут соответствия рейтинга ответа и названия id документа, в котором
   осуществлялся поиск:
   ● <Идентификатор документа>("docid") — идентификатор документа, в котором
   найден ответ на запрос. Он формируется автоматически при индексации всех
   документов исходя из порядка, в котором документы расположены в поле files в
   файле config.json. Например, если в поле config.json поле files содержит:
   "files": [
   "../resources/file001.txt", для данного файла docid будет равен 0
   "../resources/file002.txt", для данного файла docid будет равен 1
   "../resources/file003.txt", для данного файла docid будет равен 2
   "../resources/file004.txt", для данного файла docid будет равен 3
   …
   ]
   ● <ранг ответа>(“rank”) — ранг или поисковый рейтинг. Это число показывает,
   насколько документ подходит для заданного запроса. В отв~~~~ете id документов
   располагаются в порядке уменьшения поискового рейтинга.